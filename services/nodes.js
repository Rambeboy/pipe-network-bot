function _0x1f2e(_0x507960,_0xddd837){const _0x5a0c53=_0x5a0c();return _0x1f2e=function(_0x1f2e5a,_0x446877){_0x1f2e5a=_0x1f2e5a-0x132;let _0x2915af=_0x5a0c53[_0x1f2e5a];return _0x2915af;},_0x1f2e(_0x507960,_0xddd837);}const _0x52bc6e=_0x1f2e;(function(_0x284108,_0x14ab10){const _0x4cefdf=_0x1f2e,_0x30100c=_0x284108();while(!![]){try{const _0x11e663=parseInt(_0x4cefdf(0x13e))/0x1+parseInt(_0x4cefdf(0x13d))/0x2*(-parseInt(_0x4cefdf(0x142))/0x3)+-parseInt(_0x4cefdf(0x14e))/0x4+-parseInt(_0x4cefdf(0x138))/0x5+parseInt(_0x4cefdf(0x151))/0x6+parseInt(_0x4cefdf(0x13b))/0x7+parseInt(_0x4cefdf(0x14b))/0x8*(parseInt(_0x4cefdf(0x14f))/0x9);if(_0x11e663===_0x14ab10)break;else _0x30100c['push'](_0x30100c['shift']());}catch(_0x2dd059){_0x30100c['push'](_0x30100c['shift']());}}}(_0x5a0c,0x724dd));const fetch=require('node-fetch'),{readToken,loadProxies}=require(_0x52bc6e(0x147)),{HttpsProxyAgent}=require(_0x52bc6e(0x133)),{logger}=require(_0x52bc6e(0x134)),fs=require('fs')['promises'],API_BASE=_0x52bc6e(0x132);async function runNodeTests(){const _0x19fb15=_0x52bc6e,_0x388fd7=await loadProxies();if(_0x388fd7[_0x19fb15(0x13f)]===0x0){logger(_0x19fb15(0x159),_0x19fb15(0x156));return;}try{const _0x357148=new HttpsProxyAgent(_0x388fd7[0x0%_0x388fd7[_0x19fb15(0x13f)]]),_0xc5a5bc=await fetch(API_BASE+_0x19fb15(0x14d),{'agent':_0x357148}),_0x34d0c4=await _0xc5a5bc[_0x19fb15(0x145)](),_0x3b9fdb=await readToken();for(let _0x5cdcb0=0x0;_0x5cdcb0<_0x34d0c4[_0x19fb15(0x13f)];_0x5cdcb0++){const _0x37d95e=_0x34d0c4[_0x5cdcb0],_0x5b2099=_0x388fd7[_0x5cdcb0%_0x388fd7[_0x19fb15(0x13f)]],_0x4242bb=new HttpsProxyAgent(_0x5b2099);logger(_0x19fb15(0x141)+_0x37d95e[_0x19fb15(0x15b)]+_0x19fb15(0x158)+_0x5b2099);const _0x5cdc6f=await testNodeLatency(_0x37d95e,_0x4242bb);logger(_0x19fb15(0x149)+_0x37d95e['node_id']+'\x20('+_0x37d95e['ip']+')\x20latency:\x20'+_0x5cdc6f+'ms');for(const {token:_0x16e868,username:_0x3585ec}of _0x3b9fdb){await reportTestResult(_0x37d95e,_0x5cdc6f,_0x16e868,_0x4242bb,_0x3585ec);}}logger(_0x19fb15(0x146),'success');}catch(_0x28d323){logger(_0x19fb15(0x154),_0x19fb15(0x156),_0x28d323);}}async function testNodeLatency(_0x41e330,_0x154555){const _0x36c560=_0x52bc6e,_0x4a4d9e=Date['now'](),_0x23adeb=0x1388;try{return await Promise['race']([fetch(_0x36c560(0x14c)+_0x41e330['ip'],{'mode':_0x36c560(0x135),'agent':_0x154555}),new Promise((_0x31841c,_0x150a30)=>setTimeout(()=>_0x150a30(new Error(_0x36c560(0x13c))),_0x23adeb))]),Date[_0x36c560(0x153)]()-_0x4a4d9e;}catch(_0x4f4422){return-0x1;}}function _0x5a0c(){const _0x5831b9=['\x20for\x20','5166144XVxNRm','offline','now','Error\x20running\x20node\x20tests:','text','error','/test','\x20using\x20proxy:\x20','No\x20proxies\x20available.\x20Please\x20check\x20your\x20proxy.txt\x20file.','Bearer\x20','node_id','https://api.pipecdn.app/api','https-proxy-agent','../utils/logger','no-cors','online','Failed\x20to\x20report\x20node\x20','4481770zUbJXC','stringify','No\x20token\x20found.\x20Skipping\x20result\x20reporting.','4010013uGxHKs','Timeout','2hXfFFV','294957HUjQvb','length','application/json','Testing\x20node\x20','1900791uhRSUp','Reported\x20result\x20node\x20ID:\x20','success','json','All\x20node\x20tests\x20completed!\x20Results\x20sent\x20to\x20backend.','../utils/file','exports','Node\x20','Error\x20reporting\x20node\x20','8CwZZaZ','http://','/nodes','123708KUNWKO','2702043NHDUbs'];_0x5a0c=function(){return _0x5831b9;};return _0x5a0c();}async function reportTestResult(_0x109de2,_0x32bc19,_0x5aa089,_0x178e11,_0xcd2bbb){const _0x5e8fbf=_0x52bc6e;if(!_0x5aa089){logger(_0x5e8fbf(0x13a),'warn');return;}try{const _0x4fec2e=await fetch(API_BASE+_0x5e8fbf(0x157),{'method':'POST','headers':{'Content-Type':_0x5e8fbf(0x140),'Authorization':_0x5e8fbf(0x15a)+_0x5aa089},'body':JSON[_0x5e8fbf(0x139)]({'node_id':_0x109de2[_0x5e8fbf(0x15b)],'ip':_0x109de2['ip'],'latency':_0x32bc19,'status':_0x32bc19>0x0?_0x5e8fbf(0x136):_0x5e8fbf(0x152)}),'agent':_0x178e11});_0x4fec2e['ok']?logger(_0x5e8fbf(0x143)+_0x109de2[_0x5e8fbf(0x15b)]+_0x5e8fbf(0x150)+_0xcd2bbb,_0x5e8fbf(0x144)):logger(_0x5e8fbf(0x137)+_0x109de2[_0x5e8fbf(0x15b)]+_0x5e8fbf(0x150)+_0xcd2bbb+':','error',await _0x4fec2e[_0x5e8fbf(0x155)]());}catch(_0x1bf80d){logger(_0x5e8fbf(0x14a)+_0x109de2[_0x5e8fbf(0x15b)]+_0x5e8fbf(0x150)+_0xcd2bbb+':',_0x5e8fbf(0x156),_0x1bf80d);}}module[_0x52bc6e(0x148)]={'runNodeTests':runNodeTests};
