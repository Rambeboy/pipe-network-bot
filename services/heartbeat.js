const _0x35c733=_0x1ef3;(function(_0x41572d,_0x318223){const _0x1ea3cb=_0x1ef3,_0x1a02ce=_0x41572d();while(!![]){try{const _0x47795f=parseInt(_0x1ea3cb(0x109))/0x1*(parseInt(_0x1ea3cb(0x11e))/0x2)+-parseInt(_0x1ea3cb(0x10e))/0x3+parseInt(_0x1ea3cb(0xfc))/0x4+-parseInt(_0x1ea3cb(0x119))/0x5*(-parseInt(_0x1ea3cb(0x113))/0x6)+parseInt(_0x1ea3cb(0x110))/0x7*(parseInt(_0x1ea3cb(0xfd))/0x8)+-parseInt(_0x1ea3cb(0x104))/0x9*(parseInt(_0x1ea3cb(0x103))/0xa)+-parseInt(_0x1ea3cb(0xfb))/0xb;if(_0x47795f===_0x318223)break;else _0x1a02ce['push'](_0x1a02ce['shift']());}catch(_0x42242b){_0x1a02ce['push'](_0x1a02ce['shift']());}}}(_0x535b,0xd7c12));const fetch=require(_0x35c733(0x10a)),{HttpsProxyAgent}=require('https-proxy-agent'),{readToken,loadProxies}=require(_0x35c733(0x101)),{logger}=require('../app/src/utils/logger'),fs=require('fs')['promises'],API_BASE=_0x35c733(0x116);async function fetchPoints(_0x5ea922,_0x5f5bb6,_0xd22f8d){const _0x3659fa=_0x35c733;try{const _0x39f206=await fetch(API_BASE+_0x3659fa(0x120),{'headers':{'Authorization':_0x3659fa(0x111)+_0x5ea922},'agent':_0xd22f8d});if(_0x39f206['ok']){const _0x5eb629=await _0x39f206[_0x3659fa(0x112)]();logger(_0x3659fa(0x108)+_0x5f5bb6+':',_0x3659fa(0x114),_0x5eb629[_0x3659fa(0x11d)]);}else logger(_0x3659fa(0x10d)+_0x5f5bb6+':',_0x3659fa(0x11b),_0x39f206['status']);}catch(_0x45831c){logger(_0x3659fa(0x11c)+_0x5f5bb6+':','error',_0x45831c[_0x3659fa(0xfe)]);}}async function sendHeartbeat(){const _0x1ec85d=_0x35c733,_0x5422a5=await loadProxies();if(_0x5422a5[_0x1ec85d(0x105)]===0x0){logger(_0x1ec85d(0x100),_0x1ec85d(0x11b));return;}const _0x8a8a20=await readToken();for(let _0x4de514=0x0;_0x4de514<_0x8a8a20[_0x1ec85d(0x105)];_0x4de514++){const {token:_0x5f12be,username:_0x26bb77}=_0x8a8a20[_0x4de514],_0x1880df=_0x5422a5[_0x4de514%_0x5422a5[_0x1ec85d(0x105)]],_0x211c98=new HttpsProxyAgent(_0x1880df);try{const _0x23623c=await fetchIpAddress(_0x211c98),_0x5cc0cb=await fetchGeoLocation(_0x23623c,_0x211c98),_0x387fc6=await fetch(API_BASE+_0x1ec85d(0x11a),{'method':_0x1ec85d(0x117),'headers':{'Authorization':_0x1ec85d(0x111)+_0x5f12be,'Content-Type':_0x1ec85d(0x102)},'body':JSON['stringify']({'username':_0x26bb77,'ip':_0x23623c,'geo':_0x5cc0cb}),'agent':_0x211c98});_0x387fc6['ok']?(logger(_0x1ec85d(0x10b)+_0x26bb77+'\x20using\x20proxy:\x20'+_0x1880df,_0x1ec85d(0x11f)),await fetchPoints(_0x5f12be,_0x26bb77,_0x211c98)):logger('Failed\x20to\x20send\x20heartbeat\x20for\x20'+_0x26bb77+':',_0x1ec85d(0x11b),await _0x387fc6[_0x1ec85d(0x106)]());}catch(_0x58dffe){logger(_0x1ec85d(0x107)+_0x26bb77+':','error',_0x58dffe);}}}async function fetchIpAddress(_0x11950f){const _0x52470b=_0x35c733;try{const _0x3de219=await fetch(_0x52470b(0x118),{'agent':_0x11950f}),{ip:_0x437ef0}=await _0x3de219['json']();return _0x437ef0;}catch(_0x3a0cd4){logger(_0x52470b(0x115),_0x52470b(0x11b),_0x3a0cd4);throw _0x3a0cd4;}}async function fetchGeoLocation(_0x3ba9b0,_0x1b988e){const _0x3666c1=_0x35c733,_0x459dd2=await fetch(_0x3666c1(0x10c)+_0x3ba9b0+_0x3666c1(0x10f),{'agent':_0x1b988e});if(_0x459dd2['ok'])return await _0x459dd2[_0x3666c1(0x112)]();;return null;}function _0x1ef3(_0x4583b9,_0x10049e){const _0x535b9f=_0x535b();return _0x1ef3=function(_0x1ef373,_0x5d9c60){_0x1ef373=_0x1ef373-0xfb;let _0x45c1ee=_0x535b9f[_0x1ef373];return _0x45c1ee;},_0x1ef3(_0x4583b9,_0x10049e);}function _0x535b(){const _0x341e81=['147224kPAZdH','Bearer\x20','json','705822brcxrK','info','Error\x20fetching\x20IP\x20address:','https://pipe-network-backend.pipecanary.workers.dev/api','POST','https://api64.ipify.org?format=json','50hsGtew','/heartbeat','error','Error\x20fetching\x20points\x20for\x20','points','2odoRDh','success','/points','490523NcJHti','5560760MRmxtq','424YnhabY','message','exports','No\x20proxies\x20available.\x20Please\x20check\x20your\x20proxy.txt\x20file.','../app/src/utils/file','application/json','570nThIHN','223182ZnTJev','length','text','Error\x20sending\x20heartbeat\x20for\x20','Current\x20Points\x20for\x20','150419qUYMZH','node-fetch','Heartbeat\x20sent\x20successfully\x20for\x20','https://ipapi.co/','Failed\x20to\x20fetch\x20points\x20for\x20','4469598mayafZ','/json/'];_0x535b=function(){return _0x341e81;};return _0x535b();}module[_0x35c733(0xff)]={'sendHeartbeat':sendHeartbeat};