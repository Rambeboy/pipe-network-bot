function _0x4b63(_0xe69f3,_0x396cfb){const _0x25b649=_0x25b6();return _0x4b63=function(_0x4b6340,_0x18c45c){_0x4b6340=_0x4b6340-0x145;let _0x3f2ae0=_0x25b649[_0x4b6340];return _0x3f2ae0;},_0x4b63(_0xe69f3,_0x396cfb);}const _0x1ddab0=_0x4b63;(function(_0x55e23e,_0x463d1f){const _0xac9735=_0x4b63,_0x55a3c3=_0x55e23e();while(!![]){try{const _0x960e24=parseInt(_0xac9735(0x148))/0x1+-parseInt(_0xac9735(0x14e))/0x2*(-parseInt(_0xac9735(0x149))/0x3)+parseInt(_0xac9735(0x14c))/0x4*(-parseInt(_0xac9735(0x146))/0x5)+parseInt(_0xac9735(0x160))/0x6+parseInt(_0xac9735(0x152))/0x7*(parseInt(_0xac9735(0x14d))/0x8)+parseInt(_0xac9735(0x159))/0x9*(-parseInt(_0xac9735(0x14b))/0xa)+-parseInt(_0xac9735(0x165))/0xb;if(_0x960e24===_0x463d1f)break;else _0x55a3c3['push'](_0x55a3c3['shift']());}catch(_0x596cd5){_0x55a3c3['push'](_0x55a3c3['shift']());}}}(_0x25b6,0x70a2d));const fetch=require(_0x1ddab0(0x15b)),{readToken,loadProxies}=require(_0x1ddab0(0x155)),{HttpsProxyAgent}=require('https-proxy-agent'),{logger}=require(_0x1ddab0(0x15f));async function runNodeTests(){const _0x108fd7=_0x1ddab0,_0x96f187=await loadProxies();if(_0x96f187[_0x108fd7(0x14a)]===0x0){logger(_0x108fd7(0x161),_0x108fd7(0x163));return;}try{const _0x19f37c=new HttpsProxyAgent(_0x96f187[0x0%_0x96f187['length']]),_0x5abd1f=await fetch('https://api.pipecdn.app/api/nodes',{'agent':_0x19f37c}),_0x329026=await _0x5abd1f['json'](),_0x32260c=await readToken();for(let _0x39a34d=0x0;_0x39a34d<_0x329026[_0x108fd7(0x14a)];_0x39a34d++){const _0x53ae21=_0x329026[_0x39a34d],_0x614c2d=_0x96f187[_0x39a34d%_0x96f187[_0x108fd7(0x14a)]],_0x2be79e=new HttpsProxyAgent(_0x614c2d);logger(_0x108fd7(0x156)+_0x53ae21[_0x108fd7(0x157)]+_0x108fd7(0x15d)+_0x614c2d);const _0x1fb11a=await testNodeLatency(_0x53ae21,_0x2be79e);logger(_0x108fd7(0x154)+_0x53ae21['node_id']+'\x20('+_0x53ae21['ip']+')\x20latency:\x20'+_0x1fb11a+'ms');for(const {token:_0x2e42dd,username:_0x116300}of _0x32260c){await reportTestResult(_0x53ae21,_0x1fb11a,_0x2e42dd,_0x2be79e,_0x116300);}}logger(_0x108fd7(0x14f),'success');}catch(_0x33de1f){logger(_0x108fd7(0x162),_0x108fd7(0x163),_0x33de1f);}}async function testNodeLatency(_0x28afb3,_0x49dac4){const _0x3bf725=_0x1ddab0,_0x665462=Date[_0x3bf725(0x158)]();try{return await Promise[_0x3bf725(0x153)]([fetch(_0x3bf725(0x15e)+_0x28afb3['ip'],{'mode':_0x3bf725(0x150),'agent':_0x49dac4}),new Promise((_0x197db3,_0x341c27)=>setTimeout(()=>_0x341c27(new Error('Timeout')),0x1388))]),Date['now']()-_0x665462;}catch(_0x2cf0ab){return-0x1;}}async function reportTestResult(_0x598d85,_0x10584c,_0x1b10a0,_0x184c45,_0x23e5fe){const _0x18a378=_0x1ddab0;if(!_0x1b10a0){logger(_0x18a378(0x147),_0x18a378(0x166));return;}try{const _0xc31d3a=await fetch('https://api.pipecdn.app/api/test',{'method':'POST','headers':{'Content-Type':_0x18a378(0x168),'Authorization':'Bearer\x20'+_0x1b10a0},'body':JSON['stringify']({'node_id':_0x598d85[_0x18a378(0x157)],'ip':_0x598d85['ip'],'latency':_0x10584c,'status':_0x10584c>0x0?'online':_0x18a378(0x167)}),'agent':_0x184c45});_0xc31d3a['ok']?logger('Reported\x20result\x20node\x20ID:\x20'+_0x598d85[_0x18a378(0x157)]+_0x18a378(0x15c)+_0x23e5fe,_0x18a378(0x145)):logger(_0x18a378(0x169)+_0x598d85['node_id']+'\x20for\x20'+_0x23e5fe+':','error',await _0xc31d3a[_0x18a378(0x164)]());}catch(_0x18c9b3){logger(_0x18a378(0x151)+_0x598d85[_0x18a378(0x157)]+'\x20for\x20'+_0x23e5fe+':',_0x18a378(0x163),_0x18c9b3);}}function _0x25b6(){const _0x48253c=['99208oJTIqm','72IChcOE','8nWaSJf','All\x20node\x20tests\x20completed!\x20Results\x20sent\x20to\x20backend.','no-cors','Error\x20reporting\x20node\x20','355733CGgXYO','race','Node\x20','../app/src/utils/file','Testing\x20node\x20','node_id','now','57051ECjwmJ','exports','node-fetch','\x20for\x20','\x20using\x20proxy:\x20','http://','../app/src/utils/logger','2042142Kwxqxm','No\x20proxies\x20available.\x20Please\x20check\x20your\x20proxy.txt\x20file.','Error\x20running\x20node\x20tests:','error','text','256619TjiZbB','warn','offline','application/json','Failed\x20to\x20report\x20node\x20','success','170njCRNH','No\x20token\x20found.\x20Skipping\x20result\x20reporting.','44486JlZhwp','440373hAhQtb','length','160jopgTq'];_0x25b6=function(){return _0x48253c;};return _0x25b6();}module[_0x1ddab0(0x15a)]={'runNodeTests':runNodeTests};
